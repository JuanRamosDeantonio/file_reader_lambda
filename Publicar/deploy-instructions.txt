========================================
   INSTRUCCIONES DE DEPLOY - AWS LAMBDA
========================================

ARCHIVOS GENERADOS:
- function.zip (24.6 MB) - CÃ³digo de tu aplicaciÃ³n  
- dependencies-layer.zip (28.4 MB) - Dependencias Python

========================================
OPCIÃ“N 1: CONSOLA AWS (Interfaz Web)
========================================

PASO 1: CREAR LAYER
-------------------
1. Ir a: https://console.aws.amazon.com/lambda/
2. En el menÃº izquierdo -> "Layers" 
3. Clic en "Create layer"
4. Completar formulario:
   * Name: mi-proyecto-dependencies
   * Description: Dependencias Python para mi proyecto
   * Upload: Seleccionar "dependencies-layer.zip"
   * Compatible runtimes: Python 3.9, Python 3.10, Python 3.11
   * Compatible architectures: x86_64
5. Clic "Create"
6. COPIAR EL ARN que aparece (lo necesitarÃ¡s en el paso 2)
   Ejemplo: arn:aws:lambda:us-east-1:123456789012:layer:mi-proyecto-dependencies:1

PASO 2: ACTUALIZAR FUNCIÃ“N LAMBDA
---------------------------------
1. Ir a: https://console.aws.amazon.com/lambda/
2. En "Functions" -> Seleccionar tu funciÃ³n
3. En la pestaÃ±a "Code":
   * Clic "Upload from" -> ".zip file"
   * Seleccionar "function.zip"
   * Clic "Save"
4. Bajar hasta la secciÃ³n "Layers":
   * Clic "Add a layer"
   * Seleccionar "Custom layers"
   * Pegar el ARN del PASO 1
   * Version: 1
   * Clic "Add"
5. Deploy completado

========================================
OPCIÃ“N 2: AWS CLI (LÃ­nea de Comandos)
========================================

PASO 1: CREAR LAYER
-------------------
aws lambda publish-layer-version \
    --layer-name "mi-proyecto-dependencies" \
    --description "Dependencias Python para mi proyecto" \
    --zip-file fileb://dependencies-layer.zip \
    --compatible-runtimes python3.9 python3.10 python3.11 \
    --compatible-architectures x86_64

PASO 2: ACTUALIZAR FUNCIÃ“N
--------------------------
# Actualizar cÃ³digo
aws lambda update-function-code \
    --function-name "TU_FUNCION_AQUI" \
    --zip-file fileb://function.zip

# Agregar layer (usar ARN del paso 1)
aws lambda update-function-configuration \
    --function-name "TU_FUNCION_AQUI" \
    --layers arn:aws:lambda:REGION:ACCOUNT:layer:mi-proyecto-dependencies:1

========================================
NOTAS IMPORTANTES
========================================

ACTUALIZACIONES FUTURAS:
- Cambios en cÃ³digo -> Solo subir function.zip (PASO 2)
- Cambios en dependencias -> Crear nueva versiÃ³n del layer

LÃMITES AWS:
- Layer: 250MB descomprimido mÃ¡ximo
- FunciÃ³n + Layers: 250MB total descomprimido
- MÃ¡ximo 5 layers por funciÃ³n

BENEFICIOS:
- Deploy de cÃ³digo 10x mÃ¡s rÃ¡pido (solo 24.6 MB vs 50+ MB)
- Layer reutilizable para mÃºltiples funciones
- Versionado independiente de dependencias vs cÃ³digo

========================================
